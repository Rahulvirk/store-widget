var widgetConfig={dotColor:"#274b76",counterBgColor:"#b3f3ff",counterFontColor:"#000000",buttonBgColor:"#274b76",buttonFontColor:"#ffffff",borderRadius:"15px",widgetTitle:"Live Auctions",widgetSubtitle:"Swipe through exclusive items that are ending soon",apiUrl:"https://shop-cdidemostg1.oc1.servicecdi.com/iSynApp/allAuction.action?viewType=api",autoScrollInterval:4e3,refreshInterval:3e4,containerId:"cd-ondemand-container",enableQuickView:!0,showBidButton:!0,bidButtonText:"Bid Now",useMockData:!1,showDots:!0,showArrows:!0};!function(){"use strict";class n{static DEFAULTS={containerId:"cd-ondemand-container",title:"Live Auctions",subtitle:"Swipe through exclusive items that are ending soon",autoScroll:!0,autoScrollInterval:4e3,refreshInterval:3e4,enableQuickView:!0,showBidButton:!0,dotColor:"#274b76",counterBgColor:"#b3f3ff",counterFontColor:"#000",buttonBgColor:"#274b76",buttonFontColor:"#fff",borderRadius:"15px",useMockData:!0,bidButtonText:"",showDots:!0,showArrows:!0};constructor(t={}){this.config={...n.DEFAULTS,...t},this.listings=[],this.currentSlide=0,this.countdownIntervals=[],this.refreshInterval=null,this.autoScrollInterval=null,this.isAutoScrolling=this.config.autoScroll,this.itemsPerView=this.calculateItemsPerView(),this.hasError=!1,this.init()}init(){this.injectStyles(),this.createWidget(),this.setupEventListeners(),this.setupUserActivityTracking(),this.fetchListingsAndRender(),this.config.autoScroll&&this.setupAutoScroll(),"function"==typeof window.CustomEvent&&document.dispatchEvent(new CustomEvent("AuctionSliderWidgetReady",{detail:{widget:this}}))}injectStyles(){const n=document.getElementById("auction-widget-styles");n&&n.remove();const t=this.config.dotColor||"#274b76",i=this.config.counterBgColor||"#b3f3ff",e=this.config.counterFontColor||"#000",o=this.config.buttonBgColor||"#274b76",r=this.config.buttonFontColor||"#fff",a=this.config.borderRadius||"15px",s=`/* CDI Auction Widget - Scoped Styles */\n                .cdi-auction-widget-container {\n                    max-width: 1500px;\n                    margin: 0 auto;\n                    position: relative;\n                    overflow: hidden;\n                    box-sizing: border-box;\n                    font-family: inherit;\n                    }\n\n                .cdi-auction-widget-container * {\n                    box-sizing: border-box;\n                }\n\n                /* Widget Header Styles */\n                .cdi-auction-widget-container .cdi-widget-header {\n                        text-align: center;\n                        margin-bottom: 30px;\n                }\n\n                .cdi-auction-widget-container .cdi-widget-title {\n                    font-size: 2rem;\n                    font-weight: bold;\n                    margin-bottom: 10px;\n                    color: #333;\n                    margin-top: 0;\n                }\n\n                .cdi-auction-widget-container .cdi-widget-subtitle {\n                    font-size: 1.1rem;\n                    opacity: 0.9;\n                    color: #666;\n                    margin: 0;\n                }\n\n                /* Slider Container */\n                .cdi-auction-widget-container .cdi-slider-container {\n                    position: relative;\n                    overflow: hidden;\n                    border-radius: ${a};\n                    background: rgba(255, 255, 255, 0.1);\n                    padding: 20px;\n                }\n\n                .cdi-auction-widget-container .cdi-slider-wrapper {\n                    display: flex;\n                    transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n                    gap: 30px;\n                }\n\n                /* Listing Card Styles */\n                .cdi-auction-widget-container .cdi-listing-card {\n                    flex: 0 0 calc(25% - 10px);\n                    background: rgba(255, 255, 255, 0.95);\n                    border-radius: ${a};\n                    padding: 0px;\n                    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n                    transition: all 0.3s ease;\n                    border: 1px solid rgba(255, 255, 255, 0.2);\n                    position: relative;\n                    overflow: hidden;\n                    min-width: 280px;\n                }\n\n                /* Shimmer Effect on Hover */\n                .cdi-auction-widget-container .cdi-listing-card::before {\n                    content: '';\n                    position: absolute;\n                    top: 0;\n                    left: -100%;\n                    width: 100%;\n                    height: 100%;\n                    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);\n                    transition: left 0.6s ease;\n                    pointer-events: none;\n                }\n\n                .cdi-auction-widget-container .cdi-listing-card:hover::before {\n                    left: 100%;\n                }\n\n                .cdi-auction-widget-container .cdi-listing-card:hover {\n                    transform: translateY(-5px) scale(1.02);\n                    box-shadow: 0 4px 14px rgba(0, 0, 0, 0.15);\n                }\n\n                /* Listing Image */\n                .cdi-auction-widget-container .cdi-listing-image {\n                    width: 100%;\n                    height: 245px;\n                    object-fit: cover;\n                    border-radius: ${a} ${a} 0 0;\n                    transition: transform 0.3s ease;\n                    display: block;\n                    -webkit-transition: all 1.5s ease;\n                    transition: all 1.5s ease;\n                    }\n                    .cdi-auction-widget-container .cdi-listing-card:hover .cdi-listing-image {\n                    -webkit-transform: scale(1.2);\n                    -ms-transform: scale(1.2);\n                    transform: scale(1.2);\n                    -webkit-filter: grayscale(20%) contrast(105%) brightness(105%);\n                    filter: grayscale(20%) contrast(105%) brightness(105%);\n                    }\n                    .cdi-auction-widget-container .cdi-listing-category {\n                    color: #666;\n                    height: 20px;\n                    display: none;\n                }\n\n                /* Listing Title */\n                .cdi-auction-widget-container .cdi-listing-title {\n                    font-size: 1.2rem;\n                    font-weight: bold;\n                    margin-top: 0px;\n                    color: #333;\n                    line-height: 1.3;\n                    height: 2.6em;\n                    overflow: hidden;\n                    margin-bottom: 20px;\n                    display: -webkit-box;\n                    -webkit-line-clamp: 2;\n                    -webkit-box-orient: vertical;\n                    text-overflow: ellipsis;\n                    white-space: nowrap;\n                    }\n\n                    @supports (-webkit-line-clamp: 2) {\n                    .cdi-auction-widget-container .cdi-listing-title {\n                        display: -webkit-box;\n                        -webkit-line-clamp: 2;\n                        -webkit-box-orient: vertical;\n                        white-space: normal;\n                    }\n                }\n\n                /* Current Bid Section */\n                .cdi-auction-widget-container .cdi-current-bid {\n                    display: flex;\n                    align-items: center;\n                    margin-bottom: 20px;\n                }\n\n                .cdi-auction-widget-container .cdi-bid-label {\n                    font-size: 1rem;\n                }\n\n                .cdi-auction-widget-container .cdi-bid-amount {\n                    font-weight: bold;\n                    color: #333;\n                    }\n\n                .cdi-auction-widget-container .cdi-listing-content {\n                    padding: 20px;\n                    }\n                .cdi-auction-widget-container .cdi-listing-content a {\n                    text-decoration: none;\n                    }\n                .cdi-auction-widget-container .cdi-listing-content .cdi-bid-seperator {\n                    color: #bbb;\n                    font-size: 0.9rem;\n                }\n\n                /* Countdown Timer */\n                .cdi-auction-widget-container .cdi-countdown-container {\n                    background: ${i};\n                    border-radius: 0px;\n                    padding: 12px;\n                    margin-top: -5px;\n                    color: ${e};\n                    text-align: center;\n                }\n\n                .cdi-auction-widget-container .cdi-countdown-title {\n                    font-size: 0.8rem;\n                    margin-bottom: 8px;\n                    opacity: 0.8;\n                }\n\n                .cdi-auction-widget-container .cdi-countdown-timer {\n                    display: flex;\n                    justify-content: center;\n                    gap: 8px;\n                }\n\n                .cdi-auction-widget-container .cdi-time-unit {\n                    display: flex;\n                    flex-direction: row;\n                    justify-content: center;\n                    align-items: center;\n                    min-width: 40px;\n                }\n\n                .cdi-auction-widget-container .cdi-time-value {\n                    font-weight: bold;\n                    font-size: 1rem;\n                    }\n\n                .cdi-auction-widget-container .cdi-time-label {\n                    font-size: 1rem;\n                    font-weight: bold;\n                }\n\n                /* Bid Button */\n                .cdi-auction-widget-container .cdi-bid-button {\n                    width: 100%;\n                    background-color: ${o};\n                    color: ${r};\n                    border: none;\n                    padding: 10px 16px;\n                    border-radius: ${(parseFloat(a)||15)/2+"px"};\n                    font-size: 1rem;\n                    font-weight: bold;\n                    cursor: pointer;\n                    transition: all 0.3s ease;\n                    letter-spacing: 1px;\n                    font-family: inherit;\n                }\n\n                .cdi-auction-widget-container .cdi-bid-button:hover {\n                    transform: translateY(-2px);\n                    --shadow-color: ${o};\n                    --shadow-opacity: 0.4;\n                    box-shadow: 0 4px 6px color-mix(in srgb, var(--shadow-color) calc(var(--shadow-opacity) * 100%), transparent);\n                }\n\n                /* Navigation Buttons */\n                                    .cdi-auction-widget-container .cdi-nav-button {\n                    position: absolute;\n                    top: 50%;\n                    transform: translateY(-50%);\n                    background: rgba(255, 255, 255, 0.9);\n                    border: none;\n                    width: 45px;\n                    height: 45px;\n                    border-radius: 50%;\n                    cursor: pointer;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    font-size: 1.5rem;\n                    color: ${t};\n                    transition: all 0.3s ease;\n                    z-index: 10;\n                    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n                }\n\n                .cdi-auction-widget-container .cdi-nav-button:hover {\n                    background: white;\n                    transform: translateY(-50%) scale(1.1);\n                                    box-shadow: 9px 9px 33px #d1d1d1, -9px -9px 33px #ffffff;\n                }\n\n                .cdi-auction-widget-container .cdi-nav-button:disabled {\n                    opacity: 0.5;\n                    cursor: not-allowed;\n                    transform: translateY(-50%) scale(0.9);\n                }\n\n                .cdi-auction-widget-container .cdi-nav-prev {\n                    left: 10px;\n                }\n\n                .cdi-auction-widget-container .cdi-nav-next {\n                    right: 10px;\n                }\n\n                /* Dots Navigation */\n                .cdi-auction-widget-container .cdi-dots-container {\n                    display: flex;\n                    justify-content: center;\n                    gap: 8px;\n                    margin-top: 20px;\n                    padding: 2px;\n                }\n\n                .cdi-auction-widget-container .cdi-dot {\n                    width: 12px;\n                    height: 12px;\n                    border-radius: 50%;\n                    background: rgba(0, 0, 0, 0.2);\n                    cursor: pointer;\n                    transition: all 0.3s ease;\n                }\n\n                .cdi-auction-widget-container .cdi-dot.active {\n                background: ${t};\n                    transform: scale(1.2);\n                }\n\n                .cdi-auction-widget-container .cdi-dot:hover {\n                    background: rgba(0, 0, 0, 0.5);\n                }\n\n                /* Auto Scroll Indicator */\n                .cdi-auction-widget-container .cdi-auto-scroll-indicator {\n                    position: absolute;\n                    top: 15px;\n                    right: 15px;\n                    background: rgba(216, 216, 216, 0.2);\n                    padding: 8px 12px;\n                    border-radius: ${a};\n                    font-size: 0.8rem;\n                    display: flex;\n                    align-items: center;\n                    gap: 8px;\n                    cursor: pointer;\n                    transition: all 0.3s ease;\n                    color: #333;\n                }\n\n                @media (max-width: 950px) {\n                .cdi-auction-widget-container .cdi-auto-scroll-indicator {\n                    display: none;\n                }\n                }\n\n                .cdi-auction-widget-container .cdi-auto-scroll-indicator:hover {\n                    background: rgba(255, 255, 255, 0.3);\n                }\n\n                .cdi-auction-widget-container .cdi-auto-scroll-indicator.paused {\n                    background: rgba(255, 107, 107, 0.3);\n                }\n\n                /* Loading and Error States */\n                .cdi-auction-widget-container .cdi-loading {\n                    text-align: center;\n                    color: #333;\n                    font-size: 1.2rem;\n                    padding: 40px;\n                    margin: auto;\n                }\n\n                .cdi-auction-widget-container .cdi-error {\n                    text-align: center;\n                    color: #ff6b6b;\n                    background: rgba(255, 255, 255, 0.9);\n                    padding: 20px;\n                    border-radius: ${a};\n                    margin: auto;\n                }\n\n                .cdi-auction-widget-container .cdi-spinner {\n                    animation: rotate 1s infinite;\n                    height: 50px;\n                    width: 50px;\n                    opacity: 0.7;\n                    }\n\n                    .cdi-auction-widget-container .cdi-spinner:before,\n                    .cdi-auction-widget-container .cdi-spinner:after {\n                    border-radius: 50%;\n                    content: '';\n                    display: block;\n                    height: 20px;\n                    width: 20px;\n                    }\n\n                    .cdi-auction-widget-container .cdi-spinner:before {\n                    animation: ball1 1s infinite;\n                    background-color: ${t};\n                    box-shadow: 30px 0 0 ${i};\n                    margin-bottom: 10px;\n                    }\n\n                    .cdi-auction-widget-container .cdi-spinner:after {\n                    animation: ball2 1s infinite;\n                    background-color: ${o};\n                    box-shadow: 30px 0 0 #ddd;\n                    }\n                    @keyframes rotate {\n                    0% {\n                        -webkit-transform: rotate(0deg) scale(0.8);\n                        -moz-transform: rotate(0deg) scale(0.8);\n                    }\n\n                    50% {\n                        -webkit-transform: rotate(360deg) scale(1.2);\n                        -moz-transform: rotate(360deg) scale(1.2);\n                    }\n\n                    100% {\n                        -webkit-transform: rotate(720deg) scale(0.8);\n                        -moz-transform: rotate(720deg) scale(0.8);\n                    }\n                    }\n\n                    @keyframes ball1 {\n                    0% {\n                        box-shadow: 30px 0 0 ${i};\n                    }\n\n                    50% {\n                        box-shadow: 0 0 0 ${i};\n                        margin-bottom: 0;\n                        -webkit-transform: translate(15px,15px);\n                        -moz-transform: translate(15px, 15px);\n                    }\n\n                    100% {\n                        box-shadow: 30px 0 0 ${i};\n                        margin-bottom: 10px;\n                    }\n                    }\n\n                    @keyframes ball2 {\n                    0% {\n                        box-shadow: 30px 0 0 #ddd;\n                    }\n\n                    50% {\n                        box-shadow: 0 0 0 #ddd;\n                        margin-top: -20px;\n                        -webkit-transform: translate(15px,15px);\n                        -moz-transform: translate(15px, 15px);\n                    }\n\n                    100% {\n                        box-shadow: 30px 0 0 #ddd;\n                        margin-top: 0;\n                    }\n                    }\n \n\n                @keyframes cdi-pulse {\n                0%, 100% { opacity: 1; }\n                50% { opacity: 0.5; }\n                }\n\n                .cdi-auction-widget-container .cdi-auto-scroll-indicator.active::after {\n                content: '';\n                width: 8px;\n                height: 8px;\n                background: #4ade80;\n                border-radius: 50%;\n                animation: cdi-pulse 2s infinite;\n                }\n\n                /* Responsive Design */\n                @media (max-width: 1320px) {\n                .cdi-auction-widget-container .cdi-listing-card {\n                    flex: 0 0 calc(33.33% - 20px);\n                    min-width: 280px;\n                }\n                }\n                @media (max-width: 950px) {\n                .cdi-auction-widget-container {\n                    margin: 10px;\n                }\n                .cdi-auction-widget-container .cdi-widget-title {\n                    font-size: 1.8rem;\n                }\n                .cdi-auction-widget-container .cdi-listing-card {\n                    flex: 0 0 calc(50% - 10px);\n                    min-width: 260px;\n                }\n                .cdi-auction-widget-container .cdi-nav-button {\n                    width: 40px;\n                    height: 40px;\n                    font-size: 1.2rem;\n                }\n                .cdi-auction-widget-container .cdi-nav-prev {\n                    left: 5px;\n                }\n                .cdi-auction-widget-container .cdi-nav-next {\n                        right: 5px;\n                    }\n                }\n                @media (max-width: 640px) {\n                .cdi-auction-widget-container .cdi-listing-card {\n                    flex: 0 0 calc(100% - 10px);\n                    min-width: 240px;\n                }\n                .cdi-auction-widget-container .cdi-countdown-timer {\n                    gap: 4px;\n                }\n                .cdi-auction-widget-container .cdi-time-unit {\n                    padding: 4px 6px;\n                    min-width: 35px;\n                }\n                                .cdi-auction-widget-container .cdi-time-value {\n                    font-size: 0.9rem;\n                }\n                }\n                @media (max-width: 480px) {\n                .cdi-auction-widget-container .cdi-listing-card {\n                    flex: 0 0 calc(100% - 30px);\n                    min-width: 220px;\n                }\n                }\n                .cdi-auction-widget-container .cdi-listing-image-container {\n                position: relative;\n                overflow: hidden;\n                }\n                .cdi-auction-widget-container .cdi-quick-view-btn {\n                display: none;\n                position: absolute;\n                top: 50%;\n                left: 50%;\n                transform: translateX(-50%);\n                background: rgba(255, 255, 255, 0.9);\n                color: rgba(0, 0, 0, 0.7);\n                border: none;\n                border-radius: 50%;\n                width: 45px;\n                height: 45px;\n                font-size: 1.6rem;\n                cursor: pointer;\n                opacity: 0.9;\n                z-index: 2;\n                transition: all 0.3s ease;\n                }\n                .cdi-auction-widget-container .cdi-quick-view-btn:hover {\n                box-shadow: 9px 9px 33px #d1d1d1, -9px -9px 33px #ffffff;\n                transform: translateX(-50%) scale(1.1);\n                }\n                .cdi-auction-widget-container .cdi-listing-card:hover .cdi-quick-view-btn {\n                display: block;\n                }\n                .cdi-auction-widget-container .cdi-quick-view-modal {\n                display: none;\n                position: fixed;\n                z-index: 9999;\n                left: 0;\n                top: 0;\n                width: 100vw;\n                height: 100vh;\n                background: rgba(0,0,0,0.5);\n                align-items: center;\n                justify-content: center;\n                }\n                .cdi-auction-widget-container .cdi-quick-view-modal-content {\n                background: rgba(255, 255, 255, 0.95);\n                border-radius: ${a};\n                padding: 45px 45px;\n                max-width: 900px;\n                width: 90vw;\n                box-shadow: 0 8px 32px rgba(0,0,0,0.18);\n                position: relative;\n                text-align: center;\n                max-height: 80vh;\n                overflow-y: auto;\n                }\n                .cdi-auction-widget-container .cdi-quick-view-modal-content p {\n                font-size: 0.8rem;\n                }\n                .cdi-auction-widget-container .cdi-quick-view-modal-content .cdi-listing-content p {\n                color: #666;\n                font-size: 0.8rem;\n                }\n                .cdi-auction-widget-container .cdi-quick-view-modal-content .cdi-listing-content h3 {\n                margin-top: 0px;\n                }\n                .cdi-auction-widget-container .cdi-quick-view-close {\n                position: absolute;\n                top: 0px;\n                right: 15px;\n                font-size: 2rem;\n                color: ${t};\n                cursor: pointer;\n                font-weight: bold;\n                }\n                .cdi-auction-widget-container .cdi-carousel-btn {\n                transition: background 0.2s, box-shadow 0.2s;\n                }\n                .cdi-auction-widget-container .cdi-carousel-btn:hover {\n                background: ${t};\n                }\n                .cdi-quick-view-flex {\n                    display: flex;\n                    flex-direction: row;\n                    gap: 32px;\n                    align-items: flex-start;\n                }\n                .cdi-quick-view-details {\n                    flex: 1;\n                    text-align: left;\n                    display: flex;\n                    flex-direction: column;\n                    justify-content: center;\n                }\n                .cdi-quick-view-details .cdi-listing-content{\n                    padding: 0px 0;\n                }\n                .cdi-quick-view-details .cdi-bid-button{\n                    margin-top:20px;\n                }\n                @media (max-width: 950px) {\n                    .cdi-quick-view-flex {\n                        flex-direction: column;\n                        gap: 18px;\n                        align-items: center;\n                    }\n                    .cdi-quick-view-details {\n                        text-align: center;\n                        align-items: center;\n                    }\n                }\n                `,c=document.createElement("style");c.id="auction-widget-styles",c.textContent=s,document.head.appendChild(c)}createWidget(){const n=document.getElementById(this.config.containerId);if(!n){const n=`Widget Error: Container with ID '${this.config.containerId}' not found.`;return void console.error(n)}n&&(n.innerHTML="",n.innerHTML=`\n                    <div class="cdi-auction-widget-container">\n                        <div class="cdi-widget-header">\n                            <h1 class="cdi-widget-title">${this.config.title}</h1>\n                            <p class="cdi-widget-subtitle">${this.config.subtitle}</p>\n                    </div>\n                        <div class="cdi-auto-scroll-indicator" id="autoScrollIndicator">\n                        <span id="autoScrollText">Auto-scroll</span>\n                    </div>\n                        <div class="cdi-slider-container">\n                            <div id="slider-wrapper" class="cdi-slider-wrapper">\n                                <div class="cdi-loading">\n                                    <div class="cdi-spinner"></div>\n                            </div>\n                        </div>\n                            ${!1!==this.config.showArrows?'\n                                <button class="cdi-nav-button cdi-nav-prev" id="prevBtn">&#8249;</button>\n                                <button class="cdi-nav-button cdi-nav-next" id="nextBtn">&#8250;</button>\n                            ':""}\n                    </div>\n                    \n                        ${!1!==this.config.showDots?'<div class="cdi-dots-container" id="dotsContainer"></div>':""}\n                    </div>`,this.container=document.getElementById("slider-wrapper"),this.prevBtn=document.getElementById("prevBtn"),this.nextBtn=document.getElementById("nextBtn"),this.dotsContainer=document.getElementById("dotsContainer"),this.autoScrollIndicator=document.getElementById("autoScrollIndicator"));const t=document.querySelector(`#${this.config.containerId} .cdi-auction-widget-container`);if(t&&!t.querySelector("#cdiQuickViewModal")){const n=document.createElement("div");n.id="cdiQuickViewModal",n.className="cdi-quick-view-modal",n.style.display="none",t.appendChild(n)}}calculateItemsPerView(){const n=window.innerWidth;return n<640?1:n<950||n<1024?2:n<1320?3:4}async fetchListingsAndRender(){await this.fetchListings(),this.renderListings(),this.renderDots(),this.startCountdowns(),this.updateNavigation(),this.refreshInterval=setInterval((()=>{this.fetchListings()}),this.config.refreshInterval)}async fetchListings(){if(this.config.useMockData&&window.cdiWidgetMockData){const n=window.cdiWidgetMockData;"success"===n.jsStatus?this.listings=(n.items||[]).filter((n=>n&&n.id&&n.title)):this.showError("Mock data returned error status")}else if(this.config.apiUrl)try{const n=new AbortController,t=setTimeout((()=>n.abort()),1e4),i=await fetch(this.config.apiUrl,{signal:n.signal});clearTimeout(t);const e=await i.json();if("success"!==e.jsStatus)throw new Error("API returned error status");this.listings=(e.items||[]).filter((n=>n&&n.id&&n.title))}catch(n){"AbortError"===n.name?this.showError("Request timed out. Please try again."):(console.error("Error fetching listings:",n),this.showError("Failed to load auction listings. Check Site Lock or CORS."))}else this.showError("API URL is not set. Please provide a valid API endpoint in the widget configuration.")}renderListings(){try{if(this.hasError)return;if(0===this.listings.length)return void(this.container.innerHTML='<div class="cdi-error">No auction listings available at this time.</div>');const n=this.listings.map((n=>{try{return this.renderListingCard(n)}catch(t){return console.error("Error rendering listing:",t),this.renderErrorCard(n)}})).join("");this.container.innerHTML=n,!1!==this.config.showDots&&this.dotsContainer&&this.renderDots(),this.startCountdowns(),this.updateNavigation()}catch(n){console.error("Error rendering listings:",n),this.showError("Error displaying auction listings.")}}renderListingCard(n){const t=this.sanitizeHTML(n.title),i=n.closeTime&&!isNaN(new Date(n.closeTime).getTime());return`\n                <div class="cdi-listing-card" data-id="${n.id}" role="article" aria-labelledby="title-${n.id}">\n                    <div class="cdi-listing-image-container">\n                        <img src="${n.imgMedium||n.imgThumb}" \n                             alt="${t}" \n                             class="cdi-listing-image"\n                             loading="lazy"\n                             onerror="this.onerror=null;this.src='data:image/svg+xml;base64,...';">\n                        ${this.config.enableQuickView?`\n                            <button class="cdi-quick-view-btn" \n                                    data-id="${n.id}" \n                                    aria-label="Quick view ${t}"\n                                    tabindex="0">+</button>\n                        `:""}\n                    </div>\n                        ${i?`\n                        <div class="cdi-countdown-container">\n                            <div class="cdi-countdown-timer" id="countdown-${n.id}">\n                                <div class="cdi-time-unit">\n                                    <span class="cdi-time-value days">--</span>&nbsp;\n                                    <span class="cdi-time-label">Days</span>\n                            </div>\n                                <div class="cdi-time-unit">\n                                    <span class="cdi-time-value hours">--</span>:<span class="cdi-time-value minutes">--</span>:<span class="cdi-time-value seconds">--</span>\n                            </div>\n                            </div>\n                            </div>\n                        `:""}\n                        <div class="cdi-listing-content">\n                            <div class="cdi-listing-category">${n.categoryName?`<small>${n.categoryName}</small>`:""}</div>\n                            <a href="${n.url}" target="$_blank"><h3 id="title-${n.id}" class="cdi-listing-title">${t}</h3></a>                    \n                            <div class="cdi-current-bid">\n                                <span class="cdi-bid-label">${n.currentBidTitle?`${n.currentBidTitle}:`:""} </span>&nbsp;\n                                <span class="cdi-bid-amount">$${n.currentBid||n.price||""} </span>&nbsp; \n                                ${n.bids?`<span class="cdi-bids"><span class="cdi-bid-seperator">|</span> Bids: <strong>${n.bids}</strong></span>`:""}\n                        </div>\n                            ${this.config.showBidButton?`\n                            <button class="cdi-bid-button" \n                                    aria-label="${this.config.bidButtonText||n.actionTitle||"View Now"}" \n                                    onclick="window.open('${n.url}', '_blank')"\n                                    tabindex="0">\n                                ${this.config.bidButtonText||n.actionTitle||"View Now"}\n                            </button>\n                            `:""}\n                        </div>\n                </div>\n            `}renderErrorCard(n){return`\n                <div class="cdi-listing-card" data-id="${n.id}">\n                    <div class="cdi-error">\n                        <p>Error rendering listing:</p>\n                        <pre>${JSON.stringify(n,null,2)}</pre>\n                    </div>\n                </div>\n            `}renderDots(){if(!this.dotsContainer)return;const n=Math.max(0,this.listings.length-this.itemsPerView+1);this.dotsContainer.innerHTML="";for(let t=0;t<n;t++){const n=document.createElement("div");n.className="cdi-dot "+(t===this.currentSlide?"active":""),n.addEventListener("click",(()=>{this.goToSlide(t),this.pauseAutoScroll(),setTimeout((()=>this.resumeAutoScroll()),3e3)})),this.dotsContainer.appendChild(n)}}setupEventListeners(){this.prevBtn&&this.prevBtn.addEventListener("click",(()=>{this.prevSlide(),this.pauseAutoScroll(),setTimeout((()=>this.resumeAutoScroll()),3e3)})),this.nextBtn&&this.nextBtn.addEventListener("click",(()=>{this.nextSlide(),this.pauseAutoScroll(),setTimeout((()=>this.resumeAutoScroll()),3e3)}));let n=0,t=0,i=!1;this.container&&(this.touchStartHandler=e=>{n=e.touches[0].clientX,t=e.touches[0].clientY,i=!0,this.pauseAutoScroll()},this.touchEndHandler=e=>{if(!i)return;i=!1;const o=e.changedTouches[0].clientX,r=e.changedTouches[0].clientY,a=n-o,s=t-r;Math.abs(a)>Math.abs(s)&&Math.abs(a)>50&&(a>0?this.nextSlide():this.prevSlide()),setTimeout((()=>this.resumeAutoScroll()),3e3)},this.container.addEventListener("touchstart",this.touchStartHandler,{passive:!0}),this.container.addEventListener("touchend",this.touchEndHandler,{passive:!0}),this.mouseEnterHandler=()=>{this.pauseAutoScroll()},this.mouseLeaveHandler=()=>{setTimeout((()=>this.resumeAutoScroll()),1e3)},this.container.addEventListener("mouseenter",this.mouseEnterHandler),this.container.addEventListener("mouseleave",this.mouseLeaveHandler)),this.autoScrollIndicator&&this.autoScrollIndicator.addEventListener("click",(()=>this.toggleAutoScroll())),window.addEventListener("resize",(()=>{this.itemsPerView=this.calculateItemsPerView(),this.renderDots(),this.updateSliderPosition(),this.updateNavigation()})),this.config.enableQuickView&&this.container.addEventListener("click",(n=>{if(n.target.classList.contains("cdi-quick-view-btn")){const t=n.target.getAttribute("data-id"),i=this.listings.find((n=>n.id==t));this.openQuickViewModal(i)}}))}setupAutoScroll(){this.autoScrollInterval=setInterval((()=>{this.isAutoScrolling&&this.nextSlide()}),this.config.autoScrollInterval),this.updateAutoScrollIndicator()}toggleAutoScroll(){this.isAutoScrolling=!this.isAutoScrolling,this.updateAutoScrollIndicator(),this.resetAutoScrollInterval()}pauseAutoScroll(){this.isAutoScrolling=!1,this.updateAutoScrollIndicator()}resumeAutoScroll(){this.config.autoScroll&&(this.isAutoScrolling=!0,this.updateAutoScrollIndicator(),this.resetAutoScrollInterval())}updateAutoScrollIndicator(){if(!this.autoScrollIndicator)return;const n=document.getElementById("autoScrollText");this.isAutoScrolling?(this.autoScrollIndicator.classList.remove("paused"),this.autoScrollIndicator.classList.add("active"),n&&(n.textContent="Auto-scroll")):(this.autoScrollIndicator.classList.add("paused"),this.autoScrollIndicator.classList.remove("active"),n&&(n.textContent="Paused"))}goToSlide(n){const t=Math.max(0,this.listings.length-this.itemsPerView);this.currentSlide=Math.max(0,Math.min(n,t)),this.updateSliderPosition(),this.updateNavigation(),this.updateDots()}nextSlide(){const n=Math.max(0,this.listings.length-this.itemsPerView);this.currentSlide>=n?this.currentSlide=0:this.currentSlide++,this.updateSliderPosition(),this.updateNavigation(),this.updateDots()}prevSlide(){const n=Math.max(0,this.listings.length-this.itemsPerView);this.currentSlide<=0?this.currentSlide=n:this.currentSlide--,this.updateSliderPosition(),this.updateNavigation(),this.updateDots()}updateSliderPosition(){if(!this.container)return;const n=this.container.querySelector(".cdi-listing-card");if(!n)return;const t=n.offsetWidth+30,i=-this.currentSlide*t;this.container.style.transform=`translateX(${i}px)`}updateNavigation(){Math.max(0,this.listings.length-this.itemsPerView);this.prevBtn&&(this.prevBtn.disabled=this.listings.length<=this.itemsPerView),this.nextBtn&&(this.nextBtn.disabled=this.listings.length<=this.itemsPerView)}updateDots(){if(!this.dotsContainer)return;this.dotsContainer.querySelectorAll(".cdi-dot").forEach(((n,t)=>{n.classList.toggle("active",t===this.currentSlide)}))}startCountdowns(){this.countdownIntervals.forEach((n=>clearInterval(n))),this.countdownIntervals=[],this.listings.forEach((n=>{if(!n.closeTime||isNaN(new Date(n.closeTime).getTime()))return;const t=document.getElementById(`countdown-${n.id}`);if(!t)return;const i=()=>{const i=(new Date).getTime(),e=new Date(n.closeTime).getTime()-i;if(e<=0)return void(t.innerHTML='<div style="color: #ff6b6b; font-weight: bold; text-align: center;">Auction Ended</div>');const o=Math.floor(e/864e5),r=Math.floor(e%864e5/36e5),a=Math.floor(e%36e5/6e4),s=Math.floor(e%6e4/1e3),c=t.querySelector(".cdi-time-value.days"),d=t.querySelector(".cdi-time-value.hours"),l=t.querySelector(".cdi-time-value.minutes"),u=t.querySelector(".cdi-time-value.seconds");c&&(c.textContent=o.toString().padStart(2,"0")),d&&(d.textContent=r.toString().padStart(2,"0")),l&&(l.textContent=a.toString().padStart(2,"0")),u&&(u.textContent=s.toString().padStart(2,"0"))};i();const e=setInterval(i,1e3);this.countdownIntervals.push(e)}))}showError(n){this.hasError=!0,this.container&&(this.container.innerHTML=`<div class="cdi-error">${n}</div>`)}destroy(){this.countdownIntervals&&(this.countdownIntervals.forEach((n=>{n&&clearInterval(n)})),this.countdownIntervals=[]),this.refreshInterval&&(clearInterval(this.refreshInterval),this.refreshInterval=null),this.autoScrollInterval&&(clearInterval(this.autoScrollInterval),this.autoScrollInterval=null),this.container&&(this.container.removeEventListener("touchstart",this.touchStartHandler),this.container.removeEventListener("touchend",this.touchEndHandler),this.container.removeEventListener("mouseenter",this.mouseEnterHandler),this.container.removeEventListener("mouseleave",this.mouseLeaveHandler)),this.container=null,this.prevBtn=null,this.nextBtn=null,this.dotsContainer=null,this.autoScrollIndicator=null}getAvailableContainers(){const n=document.querySelectorAll("[id]");return Array.from(n).map((n=>n.id)).join(", ")||"None found"}setupUserActivityTracking(){let n;const t=()=>{clearTimeout(n),this.pauseAutoScroll(),n=setTimeout((()=>{this.resumeAutoScroll()}),3e3)},i=document.querySelector(".cdi-auction-widget-container");if(i){["mousedown","mousemove","keypress","scroll","touchstart"].forEach((n=>{i.addEventListener(n,t,{passive:!0})})),i.addEventListener("click",t,{passive:!0})}}resetAutoScrollInterval(){this.autoScrollInterval&&clearInterval(this.autoScrollInterval),this.isAutoScrolling&&(this.autoScrollInterval=setInterval((()=>{this.isAutoScrolling&&this.nextSlide()}),this.config.autoScrollInterval))}openQuickViewModal(n){const t=document.querySelector(`#${this.config.containerId} .cdi-auction-widget-container`),i=t?t.querySelector("#cdiQuickViewModal"):null;if(!i||!n)return;const e=["imgMedium","imgMedium2","imgMedium3"].map((t=>n[t])).filter(Boolean);let o=0;const r=t=>`\n                <div style="position:relative;">\n                    <img src="${e[t]}" alt="${n.title}" style="width:100%;border-radius:10px;max-height:400px;object-fit:contain;">\n                    ${e.length>1?`\n                        <button class="cdi-carousel-btn cdi-carousel-prev" style="position:absolute;top:50%;left:10px;transform:translateY(-50%);background:rgba(255, 255, 255, 0.8);border:none;border-radius:50%;width:36px;height:36px;font-size:1rem;cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,0.08);" aria-label="Previous Image" tabindex="0">&#8249;</button>\n                        <button class="cdi-carousel-btn cdi-carousel-next" style="position:absolute;top:50%;right:10px;transform:translateY(-50%);background:rgba(255, 255, 255, 0.8);border:none;border-radius:50%;width:36px;height:36px;font-size:1rem;cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,0.08);" aria-label="Next Image" tabindex="0">&#8250;</button>\n                        <div style="position:absolute;bottom:10px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,0.4);color:#fff;padding:2px 10px;border-radius:8px;font-size:0.9rem;">\n                            ${t+1} / ${e.length}\n                        </div>\n                    `:""}\n                </div>\n            `;if(i.innerHTML=`\n                <div class="cdi-quick-view-modal-content">\n                    <span class="cdi-quick-view-close">&times;</span>\n                    <div class="cdi-quick-view-flex">\n                        <div id="cdiQuickViewCarousel">${r(o)}</div>\n                        <div class="cdi-quick-view-details">\n                            <h2>${n.title}</h2>\n                            <div class="cdi-listing-content">\n                                <h3>\n                                    ${n.currentBidTitle?`${n.currentBidTitle}:`:""} \n                                    $${n.currentBid||n.price||""} \n                                </h3>\n                                ${n.bids?`<span class="cdi-bids">Bids: <strong>${n.bids}</strong></span>`:""}\n                                ${n.closeTime?`<p ><strong>Ends:</strong> ${n.closeTime}</p>`:""}\n                            </div>\n                            ${n.desc?`<p>${n.desc}</p>`:""}\n                            <button class="cdi-bid-button" aria-label="${this.config.bidButtonText||"Bid Now"}" onclick="window.open('${n.url}', '_blank')">\n                                ${this.config.bidButtonText||"Bid Now"}\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            `,i.style.display="flex",e.length>1){const a=n=>{o=(n+e.length)%e.length,document.getElementById("cdiQuickViewCarousel").innerHTML=r(o),s()};function s(){const n=i.querySelector(".cdi-carousel-prev"),t=i.querySelector(".cdi-carousel-next");n&&(n.onclick=n=>{n.stopPropagation(),a(o-1)}),t&&(t.onclick=n=>{n.stopPropagation(),a(o+1)})}s()}i.querySelector(".cdi-quick-view-close").onclick=()=>i.style.display="none",i.onclick=n=>{n.target===i&&(i.style.display="none")},i.addEventListener("keydown",(function(n){"ArrowLeft"===n.key&&updateCarousel(o-1),"ArrowRight"===n.key&&updateCarousel(o+1)})),i.tabIndex=0,i.focus()}sanitizeHTML(n){const t=document.createElement("div");return t.textContent=n,t.innerHTML}}if(window.initAuctionWidget=function(t){return new n(t)},"loading"===document.readyState)document.addEventListener("DOMContentLoaded",(function(){const t=window.widgetConfig&&window.widgetConfig.containerId||"cd-ondemand-container";if(console.log("Looking for container with ID:",t),document.getElementById(t))console.log("Container found, initializing widget..."),window.auctionWidget=new n(window.widgetConfig||{});else{console.error("Container not found:",t);const n=document.createElement("div");n.style.cssText="\n                background: #ffebee;\n                color: #c62828;\n                padding: 20px;\n                margin: 20px;\n                border: 2px solid #ef5350;\n                border-radius: 8px;\n                font-family: Arial, sans-serif;\n                font-size: 16px;\n                text-align: center;\n            ",n.innerHTML=`\n                <h3>Widget Initialization Error</h3>\n                <p>Container with ID '${t}' not found.</p>\n                <p>Please add a div element with id="${t}" to your page.</p>\n            `,document.body.insertBefore(n,document.body.firstChild)}}));else{const t=window.widgetConfig&&window.widgetConfig.containerId||"cd-ondemand-container";if(console.log("Looking for container with ID:",t),document.getElementById(t))console.log("Container found, initializing widget..."),window.auctionWidget=new n(window.widgetConfig||{});else{console.error("Container not found:",t);const n=document.createElement("div");n.style.cssText="\n            background: #ffebee;\n            color: #c62828;\n            padding: 20px;\n            margin: 20px;\n            border: 2px solid #ef5350;\n            border-radius: 8px;\n            font-family: Arial, sans-serif;\n            font-size: 16px;\n            text-align: center;\n        ",n.innerHTML=`\n            <h3>Widget Initialization Error</h3>\n            <p>Container with ID '${t}' not found.</p>\n            <p>Please add a div element with id="${t}" to your page.</p>\n        `,document.body.insertBefore(n,document.body.firstChild)}}window.AuctionSliderWidget=n,n.VERSION="1.0.0",window.destroyAuctionWidget=function(){window.auctionWidget&&window.auctionWidget.destroy&&window.auctionWidget.destroy()}}(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(function(){new AuctionSliderWidget(widgetConfig)})):new AuctionSliderWidget(widgetConfig);